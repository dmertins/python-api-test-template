# python-api-test-template

## Project Requirements
- Python 3.11

## Project Setup for Development
1. Create a virtual environment:
   ```shell
   $ python -m venv --prompt venv .venv
   ```
2. Activate the virtual environment:
   ```shell
   $ source .venv/bin/activate
   ```
3. Install production requirements:
   ```shell
   $ pip install -r requirements/production.txt
   ```
4. Install development requirements:
   ```shell
   $ pip install -r requirements/development.txt
   ```
5. Install pre-commit git hook scripts:
   ```shell
   $ pre-commit install
   ```

## Project Setup for Production
1. Install production requirements:
   ```shell
   $ pip install -r requirements/production.txt
   ```

## Running the Tests
```shell
$ pytest
```

## Updating Project Requirements
Project direct dependencies are defined in `.in` files, in `requirements` directory.
Secondary dependencies are autogenerated with `pip-compile` command, in `.txt` files. Requirements `.txt` files must not be edited directly.

To update project dependencies:
1. Update direct dependencies in `.in` files.
2. Update production requirements:
    ```shell
    $ pip-compile requirements/production.in
    ```
3. Update development requirements:
    ```shell
    $ pip-compile requirements/development.in
    ```
4. Commit changes in all requirements files.

### Forcing Requirements Update
If `pip-compile` finds an existing requirements `.txt` that already fulfills the dependencies specified in `.in` files, then no changes will be made, even if package updates are available.

To force `pip-compile` to update all packages in a requirements file, run the command with the `--upgrade` flag:
```shell
$ pip-compile --upgrade requirements/production.in
$ pip-compile --upgrade requirements/development.in
```

### Synchronizing the Virtual Environment
```shell
$ pip-sync requirements/production.txt requirements/development.txt
```

## TODO
- [ ] Add Table of Contents
- [ ] List template features
- [ ] Add GitHub repository topics
